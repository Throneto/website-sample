<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>文章管理</title>
	<link rel="icon" href="/favicon.ico" />
	<link rel="stylesheet" href="/css/style.css" />
	<style>
		.admin-container{max-width:1100px;margin:40px auto;padding:0 16px}
		.toolbar{display:flex;gap:12px;flex-wrap:wrap;align-items:center;margin-bottom:16px}
		.toolbar input,.toolbar select{padding:8px 10px;border:1px solid #e5e7eb;border-radius:8px}
		.table{width:100%;border-collapse:separate;border-spacing:0 8px}
		.table th,.table td{text-align:left;padding:12px 10px;background:#ffffffaa;backdrop-filter:blur(6px)}
		.table th{color:#374151;font-weight:600}
		.row{box-shadow:0 2px 8px rgba(0,0,0,.06);border-radius:10px;overflow:hidden}
		.actions button{margin-right:8px}
		.modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center}
		.modal.open{display:flex}
		.modal .panel{width:min(720px,92vw);background:#fff;border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,.15)}
		.panel header{display:flex;justify-content:space-between;align-items:center;padding:14px 16px;border-bottom:1px solid #eee}
		.panel main{padding:16px}
		.panel footer{display:flex;justify-content:flex-end;gap:10px;padding:12px 16px;border-top:1px solid #eee}
		.field{display:flex;flex-direction:column;margin-bottom:12px}
		.field input,.field textarea,.field select{padding:10px;border:1px solid #e5e7eb;border-radius:8px}
		.badge{padding:4px 8px;border-radius:999px;background:#eef2ff;color:#3730a3;font-size:12px}
	</style>
</head>
<body>
	<div class="admin-container">
		<h1>文章管理</h1>
		<div class="toolbar">
			<input id="search" placeholder="搜索标题/摘要/标签" />
			<select id="categoryFilter"></select>
			<button id="createBtn">新建文章</button>
		</div>
		<table class="table">
			<thead>
				<tr class="row">
					<th style="width:42px">ID</th>
					<th>标题</th>
					<th>分类</th>
					<th>日期</th>
					<th>标签</th>
					<th style="width:160px">操作</th>
				</tr>
			</thead>
			<tbody id="tableBody"></tbody>
		</table>
	</div>

	<!-- 编辑/新建 模态框 -->
	<div class="modal" id="editModal" aria-hidden="true">
		<div class="panel">
			<header>
				<h3 id="modalTitle">新建文章</h3>
				<button id="closeModal">×</button>
			</header>
			<main>
				<div class="field">
					<label>标题</label>
					<input id="f_title" />
				</div>
				<div class="field">
					<label>摘要</label>
					<textarea id="f_excerpt" rows="3"></textarea>
				</div>
				<div class="field">
					<label>内容</label>
					<textarea id="f_content" rows="8"></textarea>
				</div>
				<div class="field">
					<label>分类</label>
					<select id="f_category"></select>
				</div>
				<div class="field">
					<label>标签（逗号分隔）</label>
					<input id="f_tags" placeholder="如：WebGL, 动画, JavaScript" />
				</div>
				<div class="field">
					<label>封面图（可选，仅前端预览）</label>
					<input id="f_cover" type="file" accept="image/*" />
					<small>未接入后端上传时，文件以 DataURL 存储于 localStorage（演示用途）。</small>
				</div>
			</main>
			<footer>
				<button id="saveBtn">保存</button>
			</footer>
		</div>
	</div>

	<script src="/js/api-service.js"></script>
	<script src="/js/admin.js"></script>
</body>
</html>

